AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Metadata:
  AWS::ServerlessRepo::Application:
    Name: cf-macro-app
    Description: Creates a Macro that can auto-generate Cloudwatch Alarms and Dashboard.
    Author: FourTheorem
    SpdxLicenseId: Apache-2.0
    LicenseUrl: s3://ss-sampackages/418cec9617720b9219e29516dc645028
    ReadmeUrl: s3://ss-sampackages/f885475187d2e1be3f1195203d5ecbf7
    Labels:
    - slicwatch
    - monitoring
    HomePageUrl: https://github.com/fourTheorem/slic-watch
    SemanticVersion: '0.0.1'
    SourceCodeUrl: https://github.com/fourTheorem/slic-watch
Resources:
  CfMacroSlicWatch:
    Type: AWS::CloudFormation::Macro
    Properties:
      Name: CfMacroSlicWatch
      FunctionName:
        Fn::GetAtt:
        - MacroLambdaFunction
        - Arn
    Metadata:
      SamResourceId: CfMacroSlicWatch
  MacroLambdaFunction:
    Type: AWS::Serverless::Function
    Properties:
      Handler: index.handler
      Runtime: nodejs16.x
      Timeout: 60
      Architectures:
      - x86_64
      Policies:
      - AWSLambdaBasicExecutionRole
      CodeUri: s3://ss-sampackages/a41b383f33ad008b511577ec02e10561
    Metadata:
      SamResourceId: MacroLambdaFunction
